---
sidebar_position: 2
title: Standalone Deployment
description: Desktop application deployment
---

import CodeBlock from '@/components/mdx/CodeBlock.astro';
import Tabs from '@/components/mdx/Tabs.astro';
import TabItem from '@/components/mdx/TabItem.astro';

Deploy Orbis as a single-user desktop application.

## Overview

Standalone mode provides:

- Local SQLite database
- No server required
- Single-user access
- Desktop integration
- Offline capability

## Building for Desktop

### Prerequisites

- Rust toolchain
- Node.js 18+
- Tauri CLI

### Build Commands

<CodeBlock lang="bash">
```bash
# Install dependencies
cd orbis
bun install

# Build for current platform
bun run tauri build

# Output location
# Windows: target/release/bundle/msi/
# macOS: target/release/bundle/dmg/
# Linux: target/release/bundle/appimage/
```
</CodeBlock>

### Cross-Platform Builds

<Tabs>
<TabItem value="windows" label="Windows">

<CodeBlock lang="bash">
```bash
# On Windows
bun run tauri build

# Output: Orbis_x.x.x_x64_en-US.msi
```
</CodeBlock>

</TabItem>
<TabItem value="macos" label="macOS">

<CodeBlock lang="bash">
```bash
# On macOS
bun run tauri build

# Output: Orbis_x.x.x_x64.dmg
```
</CodeBlock>

</TabItem>
<TabItem value="linux" label="Linux">

<CodeBlock lang="bash">
```bash
# On Linux
bun run tauri build

# Outputs:
# - Orbis_x.x.x_amd64.AppImage
# - Orbis_x.x.x_amd64.deb
```
</CodeBlock>

</TabItem>
</Tabs>

## Installation

<Tabs>
<TabItem value="windows" label="Windows">

1. Download `.msi` installer
2. Run installer
3. Follow installation wizard
4. Launch from Start Menu

</TabItem>
<TabItem value="macos" label="macOS">

1. Download `.dmg` file
2. Open DMG
3. Drag Orbis to Applications
4. Launch from Applications

**Note:** May need to allow in Security & Privacy for unsigned builds.

</TabItem>
<TabItem value="linux" label="Linux">

**AppImage:**

<CodeBlock lang="bash">
```bash
chmod +x Orbis_x.x.x_amd64.AppImage
./Orbis_x.x.x_amd64.AppImage
```
</CodeBlock>

**Debian/Ubuntu:**

<CodeBlock lang="bash">
```bash
sudo dpkg -i Orbis_x.x.x_amd64.deb
```
</CodeBlock>

</TabItem>
</Tabs>

## Configuration

### Data Directory

Default locations:

| Platform | Location |
|----------|----------|
| Windows | `%APPDATA%\Orbis\` |
| macOS | `~/Library/Application Support/Orbis/` |
| Linux | `~/.config/orbis/` |

### Database Location

<CodeBlock lang="text">
```text
[Data Directory]/
├── orbis.db          # SQLite database
├── config.toml       # Configuration
└── plugins/          # Plugins directory
```
</CodeBlock>

### Plugin Directory

<CodeBlock lang="text">
```text
[Data Directory]/plugins/
├── my-plugin/
│   ├── manifest.json
│   └── plugin.wasm
```
</CodeBlock>

## Distribution

### Signing

<Tabs>
<TabItem value="windows" label="Windows">

Sign with code signing certificate:

<CodeBlock lang="json">
```json
// Set in tauri.conf.json
{
  "tauri": {
    "bundle": {
      "windows": {
        "certificateThumbprint": "YOUR_THUMBPRINT",
        "digestAlgorithm": "sha256"
      }
    }
  }
}
```
</CodeBlock>

</TabItem>
<TabItem value="macos" label="macOS">

Sign and notarize:

<CodeBlock lang="bash">
```bash
# Set environment
export APPLE_SIGNING_IDENTITY="Developer ID Application: Your Name"
export APPLE_ID="your@apple.id"
export APPLE_PASSWORD="app-specific-password"

# Build with signing
bun run tauri build
```
</CodeBlock>

</TabItem>
<TabItem value="linux" label="Linux">

No signing required for AppImage/deb.

</TabItem>
</Tabs>

### Auto-Update

Configure in `tauri.conf.json`:

<CodeBlock lang="json">
```json
{
  "tauri": {
    "updater": {
      "active": true,
      "endpoints": [
        "https://releases.yoursite.com/orbis/latest.json"
      ],
      "dialog": true,
      "pubkey": "YOUR_PUBLIC_KEY"
    }
  }
}
```
</CodeBlock>

Update manifest (`latest.json`):

<CodeBlock lang="json">
```json
{
  "version": "1.0.1",
  "notes": "Bug fixes and improvements",
  "pub_date": "2025-01-01T00:00:00Z",
  "platforms": {
    "darwin-x86_64": {
      "signature": "...",
      "url": "https://releases.yoursite.com/orbis/Orbis_1.0.1_x64.dmg.tar.gz"
    },
    "windows-x86_64": {
      "signature": "...",
      "url": "https://releases.yoursite.com/orbis/Orbis_1.0.1_x64_en-US.msi.zip"
    },
    "linux-x86_64": {
      "signature": "...",
      "url": "https://releases.yoursite.com/orbis/Orbis_1.0.1_amd64.AppImage.tar.gz"
    }
  }
}
```
</CodeBlock>

## Backup and Migration

### Backup

<CodeBlock lang="bash">
```bash
# Copy entire data directory
cp -r ~/.config/orbis/ ~/orbis-backup/
```
</CodeBlock>

### Restore

<CodeBlock lang="bash">
```bash
# Restore from backup
cp -r ~/orbis-backup/ ~/.config/orbis/
```
</CodeBlock>

### Migration to Server

Export data for server import:

<CodeBlock lang="bash">
```bash
# Export SQLite to SQL
sqlite3 ~/.config/orbis/orbis.db .dump > export.sql

# Import to PostgreSQL (with adjustments)
psql orbis < export.sql
```
</CodeBlock>

## Troubleshooting

### Application Won't Start

1. Check logs:
   - Windows: Event Viewer
   - macOS: Console.app
   - Linux: `~/.config/orbis/logs/`

2. Reset configuration:

<CodeBlock lang="bash">
```bash
rm -rf ~/.config/orbis/config.toml
```
</CodeBlock>

### Database Corruption

1. Backup current database
2. Run integrity check:

<CodeBlock lang="bash">
```bash
sqlite3 ~/.config/orbis/orbis.db "PRAGMA integrity_check;"
```
</CodeBlock>

3. If corrupted, restore from backup or recreate

### Plugin Issues

1. Check plugin compatibility
2. View plugin logs
3. Disable problematic plugins:

<CodeBlock lang="bash">
```bash
mv ~/.config/orbis/plugins/bad-plugin ~/.config/orbis/plugins-disabled/
```
</CodeBlock>

## Best Practices

1. **Regular backups** - Backup data directory regularly
2. **Update plugins** - Keep plugins updated
3. **Monitor disk space** - SQLite can grow large
4. **Check for updates** - Install security updates
