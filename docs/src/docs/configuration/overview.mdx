---
sidebar_position: 1
title: Configuration Overview
description: Orbis configuration options
---

import CodeBlock from '@/components/mdx/CodeBlock.astro';

Orbis can be configured through environment variables and configuration files.

## Configuration Files

### orbis.toml

Main configuration file (optional):

<CodeBlock lang="toml">
```toml
[server]
host = "0.0.0.0"
port = 8080

[database]
url = "sqlite://./data/orbis.db"

[auth]
jwt_secret = "your-secret-key"
session_duration = "24h"

[plugins]
directory = "./plugins"
hot_reload = true
```
</CodeBlock>

### Environment Variables

Environment variables override file configuration:

| Variable | Description | Default |
|----------|-------------|---------|
| `ORBIS_MODE` | `standalone` or `client-server` | `standalone` |
| `ORBIS_HOST` | Server bind address | `127.0.0.1` |
| `ORBIS_PORT` | Server port | `8080` |
| `ORBIS_DATABASE_URL` | Database connection URL | SQLite default |
| `ORBIS_JWT_SECRET` | JWT signing secret | Generated |
| `ORBIS_PLUGINS_DIR` | Plugins directory | `./plugins` |
| `ORBIS_LOG_LEVEL` | Logging level | `info` |
| `RUST_LOG` | Rust logging filter | `orbis=info` |

## Configuration Sections

### [Server Configuration](./server)

Server and networking options:

- Host and port binding
- TLS/SSL configuration
- CORS settings
- Rate limiting

### [Database Configuration](./database)

Database connection and management:

- Connection URLs
- Pool settings
- Migration options
- SQLite vs PostgreSQL

### [Authentication](./authentication)

Authentication and security:

- JWT configuration
- Session management
- Password policies
- User management

### [TLS Security](./tls-security)

HTTPS and encryption:

- Certificate configuration
- Key management
- Security headers

## Mode Configuration

### Standalone Mode

Local desktop application with embedded database:

<CodeBlock lang="bash">
```bash
ORBIS_MODE=standalone
ORBIS_DATABASE_URL=sqlite://./data/orbis.db
```
</CodeBlock>

### Client-Server Mode

Multi-user deployment with remote database:

<CodeBlock lang="bash">
```bash
ORBIS_MODE=client-server
ORBIS_DATABASE_URL=postgres://user:pass@host:5432/orbis
ORBIS_HOST=0.0.0.0
ORBIS_PORT=8080
```
</CodeBlock>

## Plugin Configuration

### Plugin Directory

<CodeBlock lang="bash">
```bash
ORBIS_PLUGINS_DIR=/path/to/plugins
```
</CodeBlock>

### Hot Reload

Enable plugin hot reloading (development):

<CodeBlock lang="toml">
```toml
[plugins]
hot_reload = true
watch_interval = 1000  # milliseconds
```
</CodeBlock>

## Logging Configuration

### Log Levels

| Level | Description |
|-------|-------------|
| `error` | Errors only |
| `warn` | Warnings and errors |
| `info` | General information |
| `debug` | Debug messages |
| `trace` | Detailed tracing |

### Rust Log Filter

<CodeBlock lang="bash">
```bash
RUST_LOG=orbis=debug,orbis_server=trace
```
</CodeBlock>

## Development vs Production

### Development

<CodeBlock lang="bash">
```bash
ORBIS_MODE=standalone
ORBIS_LOG_LEVEL=debug
RUST_LOG=orbis=debug
```
</CodeBlock>

Enable:

- Hot reload
- Verbose logging
- Development server

### Production

<CodeBlock lang="bash">
```bash
ORBIS_MODE=client-server
ORBIS_LOG_LEVEL=warn
ORBIS_DATABASE_RUN_MIGRATIONS=false
```
</CodeBlock>

Enable:

- TLS/HTTPS
- Secure headers
- Rate limiting
- Minimal logging

## Configuration Priority

1. Environment variables (highest)
2. Configuration file (orbis.toml)
3. Default values (lowest)

## Quick Reference

### Minimal Standalone

<CodeBlock lang="bash">
```bash
# No configuration needed - uses defaults
cargo run --release
```
</CodeBlock>

### Minimal Server

<CodeBlock lang="bash">
```bash
ORBIS_MODE=client-server \
ORBIS_DATABASE_URL=postgres://localhost/orbis \
ORBIS_JWT_SECRET=your-secure-secret \
cargo run --release
```
</CodeBlock>

### Docker

<CodeBlock lang="yaml">
```yaml
environment:
  - ORBIS_MODE=client-server
  - ORBIS_DATABASE_URL=postgres://db:5432/orbis
  - ORBIS_JWT_SECRET=${JWT_SECRET}
  - ORBIS_HOST=0.0.0.0
  - ORBIS_PORT=8080
```
</CodeBlock>

## See Also

- [Server Configuration](./server) - Network and server options
- [Database Configuration](./database) - Database setup
- [Authentication](./authentication) - Security configuration
- [TLS Security](./tls-security) - HTTPS setup
