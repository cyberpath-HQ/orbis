---
sidebar_position: 7
title: Overlay Components
description: Modal and Tooltip components
---

import CodeBlock from '@/components/mdx/CodeBlock.astro';


# Overlay Components

Components that appear above other content.

## Modal

Dialog window for focused content or actions.

<CodeBlock lang="json">
```json
{
  "type": "Modal",
  "open": "{{state.isModalOpen}}",
  "title": "Confirm Action",
  "description": "Are you sure you want to continue?",
  "content": {
    "type": "Text",
    "content": "This action cannot be undone."
  },
  "footer": {
    "type": "Flex",
    "justify": "end",
    "gap": "0.5rem",
    "children": [
      {
        "type": "Button",
        "label": "Cancel",
        "variant": "outline",
        "events": {
          "on_click": [{ "type": "update_state", "path": "isModalOpen", "value": false }]
        }
      },
      {
        "type": "Button",
        "label": "Confirm",
        "events": {
          "on_click": [
            { "type": "call_api", "api": "confirmAction" },
            { "type": "update_state", "path": "isModalOpen", "value": false }
          ]
        }
      }
    ]
  },
  "events": {
    "onClose": [{ "type": "update_state", "path": "isModalOpen", "value": false }]
  }
}
```
</CodeBlock>

### Properties

| Property | Type | Default | Description |
|----------|------|---------|-------------|
| `open` | boolean \| string | `false` | Modal visibility |
| `title` | string | - | Modal title |
| `description` | string | - | Subtitle/description |
| `content` | object | - | Modal body content |
| `footer` | object | - | Modal footer content |
| `size` | `sm` \| `md` \| `lg` \| `xl` \| `full` | `md` | Modal size |
| `closable` | boolean | `true` | Show close button |
| `closeOnOverlay` | boolean | `true` | Close on backdrop click |
| `closeOnEscape` | boolean | `true` | Close on Escape key |
| `className` | string | - | CSS classes |
| `events` | object | - | Event handlers |

### Events

| Event | Trigger |
|-------|---------|
| `onClose` | Modal close requested |
| `onOpen` | Modal opened |

### Sizes

| Size | Width |
|------|-------|
| `sm` | 400px |
| `md` | 500px |
| `lg` | 640px |
| `xl` | 800px |
| `full` | 100vw |

### Examples

**Confirmation dialog:**
<CodeBlock lang="json">
```json
{
  "type": "Button",
  "label": "Delete Item",
  "variant": "destructive",
  "events": {
    "on_click": [{ "type": "update_state", "path": "deleteModalOpen", "value": true }]
  }
}
```
</CodeBlock>

<CodeBlock lang="json">
```json
{
  "type": "Modal",
  "open": "{{state.deleteModalOpen}}",
  "title": "Delete Item?",
  "description": "This action cannot be undone.",
  "content": {
    "type": "Alert",
    "variant": "destructive",
    "message": "The item '{{state.itemToDelete.name}}' will be permanently deleted."
  },
  "footer": {
    "type": "Flex",
    "justify": "end",
    "gap": "0.5rem",
    "children": [
      {
        "type": "Button",
        "label": "Cancel",
        "variant": "outline",
        "events": {
          "on_click": [{ "type": "update_state", "path": "deleteModalOpen", "value": false }]
        }
      },
      {
        "type": "Button",
        "label": "Delete",
        "variant": "destructive",
        "events": {
          "on_click": [
            { "type": "call_api", "api": "deleteItem", "args": { "id": "{{state.itemToDelete.id}}" } },
            { "type": "update_state", "path": "deleteModalOpen", "value": false },
            { "type": "show_toast", "message": "Item deleted", "level": "success" }
          ]
        }
      }
    ]
  },
  "events": {
    "onClose": [{ "type": "update_state", "path": "deleteModalOpen", "value": false }]
  }
}
```
</CodeBlock>

**Form modal:**
<CodeBlock lang="json">
```json
{
  "type": "Modal",
  "open": "{{state.showEditModal}}",
  "title": "Edit Profile",
  "size": "lg",
  "content": {
    "type": "Form",
    "id": "edit-profile",
    "fields": [
      {
        "name": "name",
        "fieldType": "text",
        "label": "Display Name",
        "bindTo": "editForm.name",
        "validation": { "required": { "message": "Name is required" } }
      },
      {
        "name": "bio",
        "fieldType": "textarea",
        "label": "Bio",
        "bindTo": "editForm.bio",
        "rows": 4
      },
      {
        "name": "avatar",
        "fieldType": "file",
        "label": "Profile Picture",
        "accept": "image/*"
      }
    ]
  },
  "footer": {
    "type": "Flex",
    "justify": "end",
    "gap": "0.5rem",
    "children": [
      {
        "type": "Button",
        "label": "Cancel",
        "variant": "ghost",
        "events": {
          "on_click": [{ "type": "update_state", "path": "showEditModal", "value": false }]
        }
      },
      {
        "type": "Button",
        "label": "Save Changes",
        "events": {
          "on_click": [
            { "type": "validateForm", "form": "edit-profile" },
            { "type": "call_api", "api": "updateProfile", "args": "{{state.editForm}}" },
            { "type": "update_state", "path": "showEditModal", "value": false }
          ]
        }
      }
    ]
  },
  "events": {
    "onClose": [{ "type": "update_state", "path": "showEditModal", "value": false }]
  }
}
```
</CodeBlock>

**Full-screen modal:**
<CodeBlock lang="json">
```json
{
  "type": "Modal",
  "open": "{{state.previewOpen}}",
  "size": "full",
  "title": "Document Preview",
  "content": {
    "type": "Container",
    "className": "h-[80vh] overflow-auto",
    "children": [
      { "type": "Image", "src": "{{state.previewUrl}}", "className": "w-full" }
    ]
  },
  "events": {
    "onClose": [{ "type": "update_state", "path": "previewOpen", "value": false }]
  }
}
```
</CodeBlock>

**Using showDialog action:**
<CodeBlock lang="json">
```json
{
  "type": "Button",
  "label": "Delete",
  "variant": "destructive",
  "events": {
    "on_click": [
      {
        "type": "showDialog",
        "title": "Delete Item?",
        "content": "This cannot be undone.",
        "variant": "destructive",
        "confirmText": "Delete",
        "cancelText": "Keep",
        "onConfirm": [
          { "type": "call_api", "api": "deleteItem" },
          { "type": "show_toast", "message": "Deleted" }
        ]
      }
    ]
  }
}
```
</CodeBlock>

---

## Tooltip

Informational popup on hover.

<CodeBlock lang="json">
```json
{
  "type": "Tooltip",
  "content": "This is helpful information",
  "trigger": {
    "type": "Button",
    "icon": "HelpCircle",
    "variant": "ghost",
    "size": "icon"
  }
}
```
</CodeBlock>

### Properties

| Property | Type | Default | Description |
|----------|------|---------|-------------|
| `content` | string \| object | - | Tooltip content |
| `trigger` | object | - | Trigger component |
| `side` | `top` \| `bottom` \| `left` \| `right` | `top` | Tooltip position |
| `align` | `start` \| `center` \| `end` | `center` | Alignment |
| `delayDuration` | number | `200` | Show delay (ms) |
| `className` | string | - | CSS classes |

### Examples

**Simple tooltip:**
<CodeBlock lang="json">
```json
{
  "type": "Tooltip",
  "content": "Click to edit",
  "trigger": {
    "type": "Button",
    "icon": "Edit",
    "variant": "ghost",
    "size": "icon"
  }
}
```
</CodeBlock>

**With rich content:**
<CodeBlock lang="json">
```json
{
  "type": "Tooltip",
  "content": {
    "type": "Flex",
    "direction": "column",
    "gap": "0.25rem",
    "children": [
      { "type": "Text", "content": "Keyboard Shortcuts", "className": "font-semibold" },
      { "type": "Text", "variant": "small", "content": "⌘K - Search" },
      { "type": "Text", "variant": "small", "content": "⌘S - Save" }
    ]
  },
  "trigger": {
    "type": "Button",
    "icon": "Keyboard",
    "variant": "ghost"
  }
}
```
</CodeBlock>

**On icon:**
<CodeBlock lang="json">
```json
{
  "type": "Flex",
  "align": "center",
  "gap": "0.5rem",
  "children": [
    { "type": "Text", "content": "API Rate Limit" },
    {
      "type": "Tooltip",
      "content": "Maximum 100 requests per minute",
      "side": "right",
      "trigger": {
        "type": "Icon",
        "name": "Info",
        "className": "w-4 h-4 text-gray-400 cursor-help"
      }
    }
  ]
}
```
</CodeBlock>

**Different positions:**
<CodeBlock lang="json">
```json
{
  "type": "Flex",
  "gap": "1rem",
  "children": [
    {
      "type": "Tooltip",
      "content": "Above",
      "side": "top",
      "trigger": { "type": "Button", "label": "Top" }
    },
    {
      "type": "Tooltip",
      "content": "Below",
      "side": "bottom",
      "trigger": { "type": "Button", "label": "Bottom" }
    },
    {
      "type": "Tooltip",
      "content": "Left side",
      "side": "left",
      "trigger": { "type": "Button", "label": "Left" }
    },
    {
      "type": "Tooltip",
      "content": "Right side",
      "side": "right",
      "trigger": { "type": "Button", "label": "Right" }
    }
  ]
}
```
</CodeBlock>

**On disabled button:**
<CodeBlock lang="json">
```json
{
  "type": "Tooltip",
  "content": "You need admin permissions to perform this action",
  "trigger": {
    "type": "Container",
    "children": [
      {
        "type": "Button",
        "label": "Delete All",
        "variant": "destructive",
        "disabled": true
      }
    ]
  }
}
```
</CodeBlock>

---

## Overlay Patterns

### Modal with Loading State

<CodeBlock lang="json">
```json
{
  "type": "Modal",
  "open": "{{state.modalOpen}}",
  "title": "Processing",
  "closable": false,
  "closeOnOverlay": false,
  "closeOnEscape": false,
  "content": {
    "type": "Flex",
    "direction": "column",
    "align": "center",
    "gap": "1rem",
    "className": "py-4",
    "children": [
      { "type": "LoadingOverlay" },
      { "type": "Text", "content": "Please wait while we process your request..." }
    ]
  }
}
```
</CodeBlock>

### Cascading Modals

<CodeBlock lang="json">
```json
{
  "type": "Modal",
  "open": "{{state.level1Open}}",
  "title": "Select Item",
  "content": {
    "type": "Container",
    "children": [
      { "type": "List", "dataSource": "state:items" },
      {
        "type": "Button",
        "label": "Create New",
        "events": {
          "on_click": [{ "type": "update_state", "path": "level2Open", "value": true }]
        }
      }
    ]
  }
}
```
</CodeBlock>

<CodeBlock lang="json">
```json
{
  "type": "Modal",
  "open": "{{state.level2Open}}",
  "title": "Create Item",
  "content": { "type": "Form", "..." },
  "events": {
    "onClose": [{ "type": "update_state", "path": "level2Open", "value": false }]
  }
}
```
</CodeBlock>

### Tooltip on Table Cell

<CodeBlock lang="json">
```json
{
  "type": "Table",
  "dataSource": "state:items",
  "columns": [
    { "key": "name", "label": "Name" },
    {
      "key": "status",
      "label": "Status",
      "render": {
        "type": "Tooltip",
        "content": "{{$row.statusDetails}}",
        "trigger": {
          "type": "Badge",
          "text": "{{$cell}}",
          "variant": "{{$cell === 'active' ? 'success' : 'secondary'}}"
        }
      }
    }
  ]
}
```
</CodeBlock>
