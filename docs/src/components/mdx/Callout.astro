---
export interface Props {
    type?: `note` | `tip` | `warning` | `danger` | `info`;
    title?: string;
}

const { type = `note`, title } = Astro.props;

const styles = {
    note:    {
        container:  `border-blue-200 bg-blue-50 dark:border-blue-900 dark:bg-blue-950`,
        icon:       `text-blue-600 dark:text-blue-400`,
        title:      `text-blue-800 dark:text-blue-200`,
        titleLabel: `Note`,
    },
    tip:     {
        container:  `border-green-200 bg-green-50 dark:border-green-900 dark:bg-green-950`,
        icon:       `text-green-600 dark:text-green-400`,
        title:      `text-green-800 dark:text-green-200`,
        titleLabel: `Tip`,
    },
    warning: {
        container:  `border-yellow-200 bg-yellow-50 dark:border-yellow-900 dark:bg-yellow-950`,
        icon:       `text-yellow-600 dark:text-yellow-400`,
        title:      `text-yellow-800 dark:text-yellow-200`,
        titleLabel: `Warning`,
    },
    danger:  {
        container:  `border-red-200 bg-red-50 dark:border-red-900 dark:bg-red-950`,
        icon:       `text-red-600 dark:text-red-400`,
        title:      `text-red-800 dark:text-red-200`,
        titleLabel: `Danger`,
    },
    info:    {
        container:  `border-purple-200 bg-purple-50 dark:border-purple-900 dark:bg-purple-950`,
        icon:       `text-purple-600 dark:text-purple-400`,
        title:      `text-purple-800 dark:text-purple-200`,
        titleLabel: `Info`,
    },
};

const style = styles[type];
const displayTitle = title || style.titleLabel;
---

<div class:list={[`my-6 rounded-lg border p-4`, style.container]}>
    <div class="flex items-start gap-3">
        <div class:list={[`mt-0.5`, style.icon]}>
            {type === `note` && (
                <svg class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" />
                    <polyline points="14 2 14 8 20 8" />
                </svg>
            )}
            {type === `tip` && (
                <svg class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2v8" />
                    <path d="m4.93 10.93 1.41 1.41" />
                    <path d="M2 18h2" />
                    <path d="M20 18h2" />
                    <path d="m19.07 10.93-1.41 1.41" />
                    <path d="M22 22H2" />
                    <path d="m8 22 4-10 4 10" />
                </svg>
            )}
            {type === `warning` && (
                <svg class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z" />
                    <path d="M12 9v4" />
                    <path d="M12 17h.01" />
                </svg>
            )}
            {type === `danger` && (
                <svg class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10" />
                    <path d="m15 9-6 6" />
                    <path d="m9 9 6 6" />
                </svg>
            )}
            {type === `info` && (
                <svg class="size-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M12 16v-4" />
                    <path d="M12 8h.01" />
                </svg>
            )}
        </div>
        <div class="flex-1">
            <p class:list={[`font-semibold`, style.title]}>{displayTitle}</p>
            <div class="mt-1 text-sm [&_p]:m-0">
                <slot />
            </div>
        </div>
    </div>
</div>
