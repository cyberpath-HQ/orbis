{
  "name": "my-first-plugin",
  "version": "1.0.0",
  "description": "A simple Hello World plugin that greets you by name",
  "author": "Plugin Developer",
  "homepage": "https://example.com",
  "license": "MIT",
  "min_orbis_version": "0.1.0",
  "dependencies": [],
  "permissions": [],
  "routes": [
    {
      "method": "GET",
      "path": "/greeting",
      "handler": "get_greeting",
      "description": "Get the current greeting",
      "requires_auth": false,
      "permissions": [],
      "rate_limit": 60
    },
    {
      "method": "POST",
      "path": "/greeting",
      "handler": "create_greeting",
      "description": "Create a greeting for a name",
      "requires_auth": false,
      "permissions": [],
      "rate_limit": 60
    }
  ],
  "pages": [
    {
      "route": "/hello",
      "title": "Hello World",
      "icon": "Hand",
      "description": "A simple hello world greeting",
      "show_in_menu": true,
      "menu_order": 0,
      "parent_route": null,
      "requires_auth": false,
      "permissions": [],
      "roles": [],
      "state": {
        "name": {
          "type": "string",
          "default": "",
          "nullable": false,
          "description": "Name to greet"
        },
        "message": {
          "type": "string",
          "default": "Hello World!",
          "nullable": false,
          "description": "Greeting message"
        }
      },
      "computed": {},
      "sections": [
        {
          "type": "Container",
          "id": "main",
          "className": "p-6 max-w-2xl mx-auto space-y-6",
          "style": null,
          "visible": null,
          "children": [
            {
              "type": "Text",
              "id": "subtitle",
              "className": "text-muted-foreground mb-6",
              "style": null,
              "visible": null,
              "children": [],
              "events": null,
              "content": "Enter your name to receive a personalized greeting. Your name will be saved for next time!"
            },
            {
              "type": "Card",
              "id": "greetingCard",
              "className": null,
              "style": null,
              "visible": null,
              "content": {
                "type": "Container",
                "id": "cardContent",
                "className": "p-6 space-y-4",
                "style": null,
                "visible": null,
                "children": [
                  {
                    "type": "Field",
                    "id": "nameField",
                    "name": "name",
                    "className": null,
                    "style": null,
                    "visible": null,
                    "children": [],
                    "events": {
                      "on_change": [
                        {
                          "type": "update_state",
                          "path": "name",
                          "value": null,
                          "from": "$event.value",
                          "merge": true
                        }
                      ]
                    },
                    "label": "Your Name",
                    "fieldType": "text",
                    "placeholder": "Enter your name...",
                    "defaultValue": "{{state.name}}",
                    "bindTo": "name",
                    "required": false,
                    "disabled": false
                  },
                  {
                    "type": "Button",
                    "id": "greetButton",
                    "className": "w-full",
                    "style": null,
                    "visible": null,
                    "children": [],
                    "events": {
                      "on_click": [
                        {
                          "type": "call_api",
                          "name": "createGreeting",
                          "api": "plugin.create_greeting",
                          "method": "POST",
                          "args_from_state": [],
                          "map_args": [],
                          "body": {
                            "name": "{{state.name}}"
                          },
                          "on_success": [
                            {
                              "type": "update_state",
                              "path": "message",
                              "value": null,
                              "from": "$response.body.message",
                              "merge": false
                            },
                            {
                              "type": "update_state",
                              "path": "name",
                              "value": null,
                              "from": "$response.body.name",
                              "merge": false
                            },
                            {
                              "type": "show_toast",
                              "level": "success",
                              "message": "{{$response.body.message}}",
                              "title": "Greeting Created",
                              "duration": 3000
                            }
                          ],
                          "on_error": [
                            {
                              "type": "show_toast",
                              "level": "error",
                              "message": "Failed to create greeting",
                              "title": "Error",
                              "duration": 5000
                            }
                          ],
                          "on_finally": []
                        }
                      ]
                    },
                    "label": "Say Hello",
                    "variant": "default",
                    "size": "default",
                    "disabled": false,
                    "loading": false
                  },
                  {
                    "type": "Divider",
                    "id": "sep1",
                    "className": "my-4",
                    "style": null,
                    "visible": null,
                    "children": [],
                    "events": null,
                    "orientation": "horizontal"
                  },
                  {
                    "type": "Container",
                    "id": "messageContainer",
                    "className": "p-4 bg-primary/10 rounded-lg text-center",
                    "style": null,
                    "visible": null,
                    "children": [
                      {
                        "type": "Text",
                        "id": "messageText",
                        "className": "text-2xl font-semibold text-primary",
                        "style": null,
                        "visible": null,
                        "children": [],
                        "events": null,
                        "content": "{{state.message}}"
                      }
                    ],
                    "events": null
                  }
                ],
                "events": null
              },
              "events": null
            }
          ],
          "events": null
        }
      ],
      "actions": {},
      "hooks": {
        "on_mount": [
          {
            "type": "call_api",
            "name": "loadGreeting",
            "api": "plugin.get_greeting",
            "method": "GET",
            "args_from_state": [],
            "map_args": [],
            "body": null,
            "on_success": [
              {
                "type": "update_state",
                "path": "name",
                "value": null,
                "from": "$response.body.name",
                "merge": false
              },
              {
                "type": "update_state",
                "path": "message",
                "value": null,
                "from": "$response.body.message",
                "merge": false
              }
            ],
            "on_error": [],
            "on_finally": []
          }
        ],
        "on_unmount": [],
        "on_params_change": [],
        "on_query_change": []
      },
      "dialogs": []
    }
  ],
  "wasm_entry": "plugin.wasm",
  "config": {}
}
